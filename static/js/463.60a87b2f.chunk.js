"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[463],{5246:function(n,e,t){t.d(e,{W:function(){return h}});var r=t(5671),o=t(3144),i=t(6274),c=t(9359),a=(0,c.Z)("BASE_URL"),s=(0,c.Z)("API_KEY"),u=(0,c.Z)("typeRequest"),l=(0,c.Z)("filmInfo"),h=function(){function n(){(0,r.Z)(this,n),Object.defineProperty(this,a,{writable:!0,value:"https://api.themoviedb.org/3/"}),Object.defineProperty(this,s,{writable:!0,value:"5f00324c3530ad02b76dbaa7a82cb337"}),Object.defineProperty(this,u,{writable:!0,value:{trends:"trending/movie/week",search:"search/movie",movieId:"movie/",genres:"genre/movie/list"}}),Object.defineProperty(this,l,{writable:!0,value:{credits:"/credits",reviews:"/reviews"}})}return(0,o.Z)(n,[{key:"getUrl",value:function(n){return"".concat((0,i.Z)(this,a)[a]).concat((0,i.Z)(this,u)[u][n],"?api_key=").concat((0,i.Z)(this,s)[s])}},{key:"getUrlSearch",value:function(n,e){return"".concat((0,i.Z)(this,a)[a]).concat((0,i.Z)(this,u)[u][n],"?api_key=").concat((0,i.Z)(this,s)[s],"&query=").concat(e)}},{key:"getUrlById",value:function(n,e){return"".concat((0,i.Z)(this,a)[a]).concat((0,i.Z)(this,u)[u][n]).concat(e,"?api_key=").concat((0,i.Z)(this,s)[s])}},{key:"getUrlForInfo",value:function(n,e,t){return"".concat((0,i.Z)(this,a)[a]).concat((0,i.Z)(this,u)[u][n]).concat(e).concat((0,i.Z)(this,l)[l][t],"?api_key=").concat((0,i.Z)(this,s)[s])}},{key:"fetchFilmsOrGenres",value:function(n){try{return fetch(this.getUrl(n)).then((function(n){return n.json()}))}catch(e){console.log(e.message)}}},{key:"fetchFilmsOnSearch",value:function(n,e){try{return fetch(this.getUrlSearch(n,e)).then((function(n){return n.json()}))}catch(t){console.log(t.message)}}},{key:"fetchFilmById",value:function(n,e){try{return fetch(this.getUrlById(n,e)).then((function(n){return n.json()}))}catch(t){console.log(t.message)}}},{key:"fetchFilmInfo",value:function(n,e,t){try{return fetch(this.getUrlForInfo(n,e,t)).then((function(n){return n.json()}))}catch(r){console.log(r.message)}}}]),n}()},8463:function(n,e,t){t.r(e),t.d(e,{default:function(){return C}});var r,o,i,c,a,s,u,l=t(3433),h=t(9439),f=t(168),p=t(6444),d=t(1087),x=p.ZP.li(r||(r=(0,f.Z)(["\n  margin: 0 auto;\n  font-size: 17px;\n  box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px,\n    rgba(6, 24, 44, 0.65) 0px 4px 6px -1px,\n    rgba(255, 255, 255, 0.08) 0px 1px 0px inset;\n  height: 25px;\n  width: 500px;\n  border-radius: 5px;\n  text-align: center;\n  transition: transform 200ms ease-in, color 200ms ease-in;\n\n  &:not(:last-child) {\n    margin-bottom: 13px;\n  }\n\n  &:hover,\n  &:focus {\n    transform: scale(1.2);\n    color: red;\n  }\n"]))),m=(0,p.ZP)(d.rU)(o||(o=(0,f.Z)(["\n  display: block;\n  width: inherit;\n  height: inherit;\n"]))),g=t(184),Z=function(n){var e=n.id,t=n.title,r=n.state,o=n.onClick;return(0,g.jsx)(x,{children:(0,g.jsx)(m,{to:"".concat(e),state:r,onClick:function(){o(r)},children:t})})},b=t(2791),v=p.ZP.form(i||(i=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n"]))),y=p.ZP.input(c||(c=(0,f.Z)(["\n  width: 300px;\n  height: 37px;\n  outline: none;\n  font-size: 20px;\n  padding-left: 10px;\n  padding-right: 10px;\n  border-radius: 4px;\n  border-color: black;\n\n  &:focus-within {\n    border-color: red;\n  }\n"]))),k=p.ZP.button(a||(a=(0,f.Z)(["\n  border: none;\n  border-radius: 4px;\n  background-color: white;\n  color: black;\n  width: 70px;\n  font-size: 18px;\n  font-weight: 500;\n  box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px,\n    rgba(6, 24, 44, 0.65) 0px 4px 6px -1px,\n    rgba(255, 255, 255, 0.08) 0px 1px 0px inset;\n  transition: color 200ms ease-in, transform 200ms ease-in;\n\n  &:hover,\n  &:focus {\n    color: red;\n    transform: scale(1.1);\n  }\n"]))),w=t(7596),j=function(n){var e=n.onSubmit,t=(0,b.useState)(""),r=(0,h.Z)(t,2),o=r[0],i=r[1];return(0,g.jsxs)(v,{onSubmit:function(n){if(n.preventDefault(),""===o.trim())return w.Am.error("Please write something!");e(o),i("")},children:[(0,g.jsx)(y,{onChange:function(n){i(n.target.value)},name:"query",value:o,type:"text",autoComplete:"off",placeholder:"Film name"}),(0,g.jsx)(k,{type:"submit",children:"Search"})]})},P=t(5246),_=t(7689),S=p.ZP.main(s||(s=(0,f.Z)(["\n  padding: 25px;\n"]))),U=p.ZP.ul(u||(u=(0,f.Z)(["\n  margin-top: 20px;\n"]))),I=t(7467),O=new P.W,C=function(n){var e,t=n.onClick,r=(0,_.TH)(),o=(0,b.useState)(!1),i=(0,h.Z)(o,2),c=i[0],a=i[1],s=(0,b.useState)([]),u=(0,h.Z)(s,2),f=u[0],p=u[1],x=(0,d.lr)(),m=(0,h.Z)(x,2),v=m[0],y=m[1],k=null!==(e=v.get("query"))&&void 0!==e?e:"";(0,b.useEffect)((function(){""!==k&&(p([]),a(!0),O.fetchFilmsOnSearch("search",k).then((function(n){if(console.log(n),0===n.results.length)return a(!1),w.Am.error("There is no such films!");console.log(n),a(!1),P(n)})))}),[k]);var P=function(n){p((function(e){return[].concat((0,l.Z)(e),(0,l.Z)(n.results))}))};return(0,g.jsxs)(S,{children:[(0,g.jsx)(j,{onSubmit:function(n){y(""!==n?{query:n}:{})}}),c&&(0,g.jsx)(I.S,{}),(0,g.jsx)(U,{children:f.map((function(n){var e=n.id,o=n.title;return(0,g.jsx)(Z,{id:e,title:o,onClick:t,state:{from:r}},e)}))})]})}},6274:function(n,e,t){function r(n,e){if(!Object.prototype.hasOwnProperty.call(n,e))throw new TypeError("attempted to use private field on non-instance");return n}t.d(e,{Z:function(){return r}})},9359:function(n,e,t){t.d(e,{Z:function(){return o}});var r=0;function o(n){return"__private_"+r+++"_"+n}}}]);
//# sourceMappingURL=463.60a87b2f.chunk.js.map